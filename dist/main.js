(()=>{"use strict";const t=t=>{const n=JSON.parse(localStorage.getItem("projects")),o=document.querySelector(".todo-container"),d=document.createElement("form");d.classList.add("todo-form"),d.setAttribute("method","get"),o.appendChild(d);const c=document.createElement("button");c.textContent="×",c.classList.add("cancel-button"),c.setAttribute("type","button"),d.appendChild(c),c.addEventListener("click",(()=>{o.contains(d)&&o.removeChild(d)}));const s=document.createElement("h1");s.textContent="Create to-do",s.classList.add("title"),d.appendChild(s);const a=document.createElement("label");a.setAttribute("for","todo-name"),d.appendChild(a);const i=document.createElement("input");i.setAttribute("type","text"),i.id="todo-name",i.setAttribute("name","todo-name"),d.appendChild(i);const r=document.createElement("label");r.setAttribute("for","todo-description"),d.appendChild(r);const l=document.createElement("input");l.setAttribute("type","text"),l.id="todo-description",l.setAttribute("name","todo-description"),d.appendChild(l);const m=document.createElement("label");m.setAttribute("for","due-date"),d.appendChild(m);const u=document.createElement("input");u.setAttribute("type","date"),u.id="due-date",u.setAttribute("name","due-date"),d.appendChild(u);const p=document.createElement("button");p.id="priority",d.appendChild(p),p.textContent="Low",p.classList.add("low"),p.setAttribute("type","button"),p.addEventListener("click",(()=>{"Low"===p.textContent?(p.textContent="Medium",p.classList.add("medium"),p.classList.remove("low")):"Medium"===p.textContent?(p.textContent="High",p.classList.add("high"),p.classList.remove("medium")):"High"===p.textContent&&(p.textContent="Low",p.classList.add("low"),p.classList.remove("high"))}));const C=document.createElement("button");C.setAttribute("type","submit"),C.textContent="Add to-do",d.appendChild(C),C.addEventListener("click",(c=>{c.preventDefault(),n[t].todos.push(((t,e,n,o)=>({title:t,description:e,dueDate:n,priority:o}))(i.value,l.value,u.value,p.textContent)),localStorage.setItem("projects",JSON.stringify(n)),e(t),o.contains(d)&&o.removeChild(d)}))};function e(n){const o=JSON.parse(localStorage.getItem("projects")),d=document.querySelector(".todo-container");for(;d.firstChild;)d.removeChild(d.firstChild);if(!document.querySelector(".add-to-do")){const e=document.querySelector(".todo-container"),o=document.createElement("button");o.textContent="Create new to-do",o.classList.add("add-to-do"),e.appendChild(o),o.addEventListener("click",(()=>{document.querySelector(".todo-form")||t(n)}))}const c=document.createElement("h1");""===o[n].projectName?c.textContent="Title was not entered":c.textContent=o[n].projectName,d.appendChild(c);const s=document.createElement("p");""===o[n].dueDate?s.textContent="Due date was not entered":s.textContent=o[n].dueDate,d.appendChild(s);const a=document.createElement("p");""===o[n].priority?a.textContent="Priority was not entered":a.textContent=o[n].priority,d.appendChild(a);for(let t=0;t<o[n].todos.length;t++){const c=document.createElement("div");c.classList.add("todo-card"),d.appendChild(c);const s=document.createElement("button");s.textContent="×",s.classList.add("remove-button"),c.appendChild(s),s.addEventListener("click",(()=>{o[n].todos.splice(t,1),localStorage.setItem("projects",JSON.stringify(o)),e(n)}));for(const e in o[n].todos[t]){const d=document.createElement("p");""===o[n].todos[t][e]?d.textContent="Value was not entered":d.textContent=o[n].todos[t][e],c.appendChild(d)}}}function n(){const t=document.querySelector(".project-container");for(;t.firstChild;)t.removeChild(t.firstChild);const o=JSON.parse(localStorage.getItem("projects"));for(let d=0;d<o.length;d++){const c=document.createElement("div");c.classList.add("project"),t.appendChild(c);const s=document.createElement("div");s.classList.add("project-title"),s.textContent=o[d].projectName,s.style.cursor="pointer",c.appendChild(s),s.dataset.index=d;const a=document.createElement("button");a.classList.add("remove-button"),a.textContent="×",s.appendChild(a),a.addEventListener("click",(()=>{o.splice(d,1),localStorage.setItem("projects",JSON.stringify(o)),n()})),s.addEventListener("click",(()=>{o[d]&&e(d)}))}}if(function(){const t=document.createElement("div");document.body.appendChild(t),t.classList.add("header"),t.textContent="To Do List";const e=document.createElement("div");document.body.appendChild(e),e.classList.add("content");const o=document.createElement("button");o.textContent="Create new project",e.appendChild(o),o.addEventListener("click",(()=>{document.querySelector(".project-form")||(()=>{const t=JSON.parse(localStorage.getItem("projects")),e=document.querySelector(".content"),o=document.createElement("form");o.classList.add("project-form"),o.setAttribute("method","get"),e.appendChild(o);const d=document.createElement("button");d.textContent="×",d.classList.add("cancel-button"),d.setAttribute("type","button"),o.appendChild(d),d.addEventListener("click",(()=>{e.contains(o)&&e.removeChild(o)}));const c=document.createElement("h1");c.textContent="Create project",c.classList.add("title"),o.appendChild(c);const s=document.createElement("label");s.setAttribute("for","project-name"),o.appendChild(s);const a=document.createElement("input");a.setAttribute("type","text"),a.id="project-name",a.setAttribute("name","project-name"),o.appendChild(a);const i=document.createElement("label");i.setAttribute("for","due-date"),o.appendChild(i);const r=document.createElement("input");r.setAttribute("type","date"),r.id="due-date",r.setAttribute("name","due-date"),o.appendChild(r);const l=document.createElement("button");l.id="priority",o.appendChild(l),l.textContent="Low",l.classList.add("low"),l.setAttribute("type","button"),l.addEventListener("click",(()=>{"Low"===l.textContent?(l.textContent="Medium",l.classList.add("medium"),l.classList.remove("low")):"Medium"===l.textContent?(l.textContent="High",l.classList.add("high"),l.classList.remove("medium")):"High"===l.textContent&&(l.textContent="Low",l.classList.add("low"),l.classList.remove("high"))}));const m=document.createElement("button");m.setAttribute("type","submit"),m.textContent="Add project",o.appendChild(m),m.addEventListener("click",(d=>{d.preventDefault(),t.push(((t,e,n)=>({projectName:t,dueDate:e,priority:n,todos:[]}))(a.value,r.value,l.textContent)),localStorage.setItem("projects",JSON.stringify(t)),n(),e.contains(o)&&e.removeChild(o)}))})()}));const d=document.createElement("div");d.classList.add("project-container"),e.appendChild(d);const c=document.createElement("div");c.classList.add("todo-container"),e.appendChild(c);const s=document.createElement("div");document.body.appendChild(s),s.classList.add("footer");const a=document.createElement("div");let i=(new Date).getFullYear();a.textContent=`Copyright © Bengoro1 ${i}`,a.setAttribute("class","signature"),s.appendChild(a);const r=document.createElement("img");r.setAttribute("src","./github.jpg"),r.setAttribute("alt","Logo"),r.setAttribute("class","git-logo"),r.setAttribute("onclick","window.open('https://github.com/Bengoro1','_newtab');"),a.appendChild(r)}(),localStorage.getItem("projects"))n();else{const t=[];localStorage.setItem("projects",JSON.stringify(t))}})();