(()=>{"use strict";function t(){const e=document.querySelector(".project-container");for(;e.firstChild;)e.removeChild(e.firstChild);const n=JSON.parse(localStorage.getItem("projects"));for(let o=0;o<n.length;o++){const d=document.createElement("div");d.classList.add("project"),e.appendChild(d);const c=document.createElement("div");c.classList.add("project-title"),c.textContent=n[o].projectName,c.style.cursor="pointer",d.appendChild(c),c.dataset.index=o;const r=document.createElement("button");r.classList.add("remove-button"),r.textContent="×",c.appendChild(r),r.addEventListener("click",(()=>{n.splice(o,1),localStorage.setItem("projects",JSON.stringify(n)),t()})),c.addEventListener("click",(t=>{for(let e=0;e<n.length;e++)if(t.currentTarget.dataset.index===e){const t=document.querySelector(".todo-container");for(;t.firstChild;)t.removeChild(t.firstChild);if(!document.querySelector(".add-to-do")){const o=document.createElement("button");o.textContent="Create new to-do",o.classList.add("add-to-do"),t.appendChild(o),o.addEventListener("click",(()=>{document.querySelector(".todo-form")||todoForm(n[e])}))}const o=document.createElement("h1");""===n[e].projectName?o.textContent="Title was not entered":o.textContent=n[e].projectName,t.appendChild(o);const d=document.createElement("p");""===n[e].dueDate?d.textContent="Due date was not entered":d.textContent=n[e].dueDate,t.appendChild(d);const c=document.createElement("p");""===n[e].priority?c.textContent="Priority was not entered":c.textContent=n[e].priority,t.appendChild(c),n[e].todos.forEach((e=>{const n=document.createElement("div");n.classList.add("todo-card"),t.appendChild(n);for(const t in e){const o=document.createElement("p");o.textContent=e[t],n.appendChild(o)}}))}}))}}if(!localStorage.getItem("projects")){const t=[];localStorage.setItem("projects",JSON.stringify(t))}console.log(localStorage.getItem("projects")),function(){const e=document.createElement("div");document.body.appendChild(e),e.classList.add("header");const n=document.createElement("div");document.body.appendChild(n),n.classList.add("content");const o=document.createElement("button");o.textContent="Create new project",n.appendChild(o),o.addEventListener("click",(()=>{document.querySelector(".project-form")||(()=>{const e=JSON.parse(localStorage.getItem("projects")),n=document.querySelector(".content"),o=document.createElement("form");o.classList.add("project-form"),o.setAttribute("method","get"),n.appendChild(o);const d=document.createElement("button");d.textContent="×",d.classList.add("cancel-button"),d.setAttribute("type","button"),o.appendChild(d),d.addEventListener("click",(()=>{n.contains(o)&&n.removeChild(o)}));const c=document.createElement("h1");c.textContent="Create project",c.classList.add("title"),o.appendChild(c);const r=document.createElement("label");r.setAttribute("for","project-name"),o.appendChild(r);const a=document.createElement("input");a.setAttribute("type","text"),a.id="project-name",a.setAttribute("name","project-name"),o.appendChild(a);const i=document.createElement("label");i.setAttribute("for","due-date"),o.appendChild(i);const s=document.createElement("input");s.setAttribute("type","date"),s.id="due-date",s.setAttribute("name","due-date"),o.appendChild(s);const l=document.createElement("label");l.setAttribute("for","priority"),o.appendChild(l);const p=document.createElement("input");p.setAttribute("type","text"),p.id="priority",p.setAttribute("name","priority"),o.appendChild(p);const m=document.createElement("button");m.setAttribute("type","submit"),m.textContent="Add project",o.appendChild(m),m.addEventListener("click",(d=>{d.preventDefault(),e.push({projectName:a.value,dueDate:s.value,priority:p.value,todos:[]}),localStorage.setItem("projects",JSON.stringify(e)),t(),n.contains(o)&&n.removeChild(o)}))})()}));const d=document.createElement("div");d.classList.add("project-container"),n.appendChild(d);const c=document.createElement("div");c.classList.add("todo-container"),n.appendChild(c);const r=document.createElement("div");document.body.appendChild(r),r.classList.add("footer")}(),t()})();