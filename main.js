(()=>{"use strict";const t=t=>{const n=JSON.parse(localStorage.getItem("projects")),o=document.querySelector(".todo-container"),d=document.createElement("form");d.classList.add("todo-form"),d.setAttribute("method","get"),o.appendChild(d);const c=document.createElement("button");c.textContent="×",c.classList.add("cancel-button"),c.setAttribute("type","button"),d.appendChild(c),c.addEventListener("click",(()=>{o.contains(d)&&o.removeChild(d)}));const i=document.createElement("h1");i.textContent="Create to-do",i.classList.add("title"),d.appendChild(i);const s=document.createElement("label");s.setAttribute("for","todo-name"),s.textContent="To-do name",d.appendChild(s);const a=document.createElement("input");a.setAttribute("type","text"),a.id="todo-name",a.setAttribute("name","todo-name"),a.setAttribute("placeholder",'"My to-do"'),a.setAttribute("maxlength","40"),d.appendChild(a);const r=document.createElement("label");r.setAttribute("for","todo-description"),r.textContent="Description",d.appendChild(r);const l=document.createElement("input");l.setAttribute("type","text"),l.id="todo-description",l.setAttribute("name","todo-description"),l.setAttribute("placeholder",'"This is my to-do for My project"'),d.appendChild(l);const m=document.createElement("label");m.setAttribute("for","due-date"),m.textContent="Due Date",d.appendChild(m);const p=document.createElement("input");p.setAttribute("type","date"),p.id="due-date",p.setAttribute("name","due-date"),d.appendChild(p);const u=document.createElement("div");u.textContent="Priority",d.appendChild(u);const C=document.createElement("button");C.id="priority",d.appendChild(C),C.textContent="Low",C.classList.add("low"),C.setAttribute("type","button"),C.addEventListener("click",(()=>{"Low"===C.textContent?(C.textContent="Medium",C.classList.add("medium"),C.classList.remove("low")):"Medium"===C.textContent?(C.textContent="High",C.classList.add("high"),C.classList.remove("medium")):"High"===C.textContent&&(C.textContent="Low",C.classList.add("low"),C.classList.remove("high"))}));const h=document.createElement("button");h.setAttribute("type","submit"),h.textContent="Add to-do",d.appendChild(h),h.addEventListener("click",(c=>{c.preventDefault(),n[t].todos.push(((t,e,n,o)=>({title:t,description:e,dueDate:n,priority:o}))(a.value,l.value,p.value,C.textContent)),localStorage.setItem("projects",JSON.stringify(n)),e(t),o.contains(d)&&o.removeChild(d)}))};function e(n){const o=JSON.parse(localStorage.getItem("projects")),d=document.querySelector(".todo-container");for(;d.firstChild;)d.removeChild(d.firstChild);if(!document.querySelector(".add-to-do")){const e=document.createElement("button");e.textContent="Create new to-do",e.classList.add("create-to-do"),d.appendChild(e),e.addEventListener("click",(()=>{document.querySelector("form")||t(n)}))}const c=document.createElement("h1");""===o[n].projectName?c.textContent="Title was not entered":c.textContent="Title: "+o[n].projectName,d.appendChild(c);const i=document.createElement("p");""===o[n].dueDate?i.textContent="Due date was not entered":i.textContent="Due date:"+o[n].dueDate,d.appendChild(i);const s=document.createElement("p");s.textContent="Priority:"+o[n].priority,d.appendChild(s);const a=document.createElement("div");a.classList.add("todo-grid"),d.appendChild(a);for(let t=0;t<o[n].todos.length;t++){const d=document.createElement("div");d.classList.add("todo-card"),"Low"===o[n].todos[t].priority?d.classList.add("low"):"Medium"===o[n].todos[t].priority?d.classList.add("medium"):"High"===o[n].todos[t].priority&&d.classList.add("high"),a.appendChild(d);const c=document.createElement("button");c.textContent="×",c.classList.add("remove-todo"),d.appendChild(c),c.addEventListener("click",(()=>{o[n].todos.splice(t,1),localStorage.setItem("projects",JSON.stringify(o)),e(n)}));for(const e in o[n].todos[t]){const c=document.createElement("h4");c.textContent=e.charAt(0).toUpperCase()+e.split(/(?=[A-Z])/).join(" ").slice(1),d.appendChild(c);const i=document.createElement("p");""===o[n].todos[t][e]?i.textContent="Value was not entered":i.textContent=o[n].todos[t][e],d.appendChild(i)}}}function n(){const t=document.querySelector(".project-container");for(;t.firstChild;)t.removeChild(t.firstChild);const o=JSON.parse(localStorage.getItem("projects"));for(let d=0;d<o.length;d++){const c=document.createElement("div");c.classList.add("project"),t.appendChild(c);const i=document.createElement("div");i.classList.add("project-title"),""===o[d].projectName?i.textContent="No name project":i.textContent=o[d].projectName,i.style.cursor="pointer","Low"===o[d].priority?i.classList.add("low"):"Medium"===o[d].priority?i.classList.add("medium"):"High"===o[d].priority&&i.classList.add("high"),c.appendChild(i);const s=document.createElement("button");s.classList.add("remove-button"),s.textContent="×",i.appendChild(s),s.addEventListener("click",(()=>{o.splice(d,1),localStorage.setItem("projects",JSON.stringify(o)),n()})),i.addEventListener("click",(()=>{o[d]&&e(d)}))}}if(function(){const t=document.createElement("div");document.body.appendChild(t),t.classList.add("header"),t.textContent="To Do List";const e=document.createElement("div");document.body.appendChild(e),e.classList.add("content");const o=document.createElement("button");o.textContent="Create new project",o.classList.add("create-project"),e.appendChild(o),o.addEventListener("click",(()=>{document.querySelector("form")||(()=>{const t=JSON.parse(localStorage.getItem("projects")),e=document.querySelector(".content"),o=document.createElement("form");o.classList.add("project-form"),o.setAttribute("method","get"),e.appendChild(o);const d=document.createElement("button");d.textContent="×",d.classList.add("cancel-button"),d.setAttribute("type","button"),o.appendChild(d),d.addEventListener("click",(()=>{e.contains(o)&&e.removeChild(o)}));const c=document.createElement("h1");c.textContent="Create project",c.classList.add("title"),o.appendChild(c);const i=document.createElement("label");i.setAttribute("for","project-name"),i.textContent="Project name",o.appendChild(i);const s=document.createElement("input");s.setAttribute("type","text"),s.id="project-name",s.setAttribute("name","project-name"),s.setAttribute("placeholder",'"My project"'),s.setAttribute("maxlength","40"),o.appendChild(s);const a=document.createElement("label");a.setAttribute("for","due-date"),a.textContent="Due Date",o.appendChild(a);const r=document.createElement("input");r.setAttribute("type","date"),r.id="due-date",r.setAttribute("name","due-date"),o.appendChild(r);const l=document.createElement("div");l.textContent="Priority",o.appendChild(l);const m=document.createElement("button");m.id="priority",o.appendChild(m),m.textContent="Low",m.classList.add("low"),m.setAttribute("type","button"),m.addEventListener("click",(()=>{"Low"===m.textContent?(m.textContent="Medium",m.classList.add("medium"),m.classList.remove("low")):"Medium"===m.textContent?(m.textContent="High",m.classList.add("high"),m.classList.remove("medium")):"High"===m.textContent&&(m.textContent="Low",m.classList.add("low"),m.classList.remove("high"))}));const p=document.createElement("button");p.setAttribute("type","submit"),p.textContent="Add project",o.appendChild(p),p.addEventListener("click",(d=>{d.preventDefault(),t.push(((t,e,n)=>({projectName:t,dueDate:e,priority:n,todos:[]}))(s.value,r.value,m.textContent)),localStorage.setItem("projects",JSON.stringify(t)),n(),e.contains(o)&&e.removeChild(o)}))})()}));const d=document.createElement("div");d.classList.add("project-container"),e.appendChild(d);const c=document.createElement("div");c.classList.add("todo-container"),e.appendChild(c);const i=document.createElement("div");document.body.appendChild(i),i.classList.add("footer");const s=document.createElement("div");let a=(new Date).getFullYear();s.textContent=`Copyright © Bengoro1 ${a}`,s.setAttribute("class","signature"),i.appendChild(s);const r=document.createElement("img");r.setAttribute("src","./github.jpg"),r.setAttribute("alt","Logo"),r.setAttribute("class","git-logo"),r.setAttribute("onclick","window.open('https://github.com/Bengoro1','_newtab');"),s.appendChild(r)}(),localStorage.getItem("projects"))n(),document.querySelectorAll(".project-title")[0].click();else{const t=[];localStorage.setItem("projects",JSON.stringify(t))}})();